<!DOCTYPE html>
<html class="no-focus-outline">
  <head>
    <meta charset="utf-8">
    <title>root elements</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Suez+One&display=swap" rel="stylesheet">	
      
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-151321053-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-151321053-1');
    </script>

    <!--meta http-equiv="X-UA-Compatible" content="IE=edge"-->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="css/main.css">
  </head>
    <body>
      <header class="o-header s-header-light">
        <nav class="o-header-nav o-header-logo">
          <a class="o-header-link" href="#"><h2>root elements </h2></a>
        </nav>
        <nav class="o-header-nav o-header-menu">
          <a class="o-header-link" href="#story">OUR STORY</a>
          <a class="o-header-link o-icon s-icon-down" href="#shop">SHOP</a>
        </nav>
        <nav class="o-header-nav o-header-cart">
          <a class="o-header-link o-icon s-icon-cart-empty" href="#cart"></a>
        </nav>
      </header>
      <main class="o-wrapper-container">
        <section class="o-wrapper-hero">
          <img class="o-wrapper-hero-image" src="https://gdurl.com/lcvp">
          <div class="o-wrapper-hero-cta o-content-cta-text">
            <h1>Sustainable clothing, literally</h1> 
            <p>Beautiful T-shirts, inside and out. Made from sustainable materials.</p>
            <a href="#shop">SHOP NOW ></a>
          </div>
        </section>
        <section id="story" class="o-wrapper-row">
          <div class="o-wrapper-col-fullwidth o-content-centerspread">
            <img src="https://gdurl.com/g87l">
            <div>
              <h1>Cleaning the planet, together</h1>
            </div>
          </div>
          <div class="o-wrapper-col-fullwidth o-content-cta-text">
            <p>Every T-shirt purchased goes towards funding a cleanup.<br class="o-display-tablet-up"> Let's make the planet look good together.</p>
            <a href="#story">KNOW MORE ></a>
          </div>
        </section>
        <section id="shop" class="o-wrapper-row">
          <div id="product-details-image" class="o-wrapper-col-mobilefullwidth o-content-background-contain s-background-product-details-male-blue h-square">
          </div>
          <div class="o-product-details-wrapper">
            <div class="o-product-details-text">
              <h2 id="product-details-title">Icy Blue</h1>
              <p>100% recycled polyester<br>Organic, natural dyes<br>Dot-knit fabric<br>Comfort fit</p>
            </div>
            <div class="o-product-color-picker">
              <button id="color-picker-black" class="o-button-circle o-button-circle--black"></button>
              <button id="color-picker-blue" class="o-button-circle o-button-circle--blue o-button-circle--selected"></button>
              <button id="color-picker-red" class="o-button-circle o-button-circle--red"></button>
              <button id="color-picker-yellow" class="o-button-circle o-button-circle--yellow"></button>
              <button id="color-picker-green" class="o-button-circle o-button-circle--green"></button>
            </div>
            <div class="o-product-gender-picker">
              <button id="gender-picker-male" class="o-button-toggle-text o-button-toggle-text--selected">MEN</button>
              <button id="gender-picker-female" class="o-button-toggle-text">WOMEN</button>
              <button id="sizing-chart-button" class="o-button-text">Sizing Chart</button>
              <div class="o-modal-wrapper">
                <div id="sizing-chart-modal" class="o-sizing-chart-modal">
                  <h2>Sizing Chart</h2>
                  <table>
                  </table>
                  <p>All sizes in inches</p>
                </div>
              </div>
            </div>
            <div class="o-product-size-picker">
              <button id="size-picker-xs" class="o-button-toggle">XS</button>
              <button id="size-picker-s" class="o-button-toggle">S</button>
              <button id="size-picker-m" class="o-button-toggle o-button-toggle--selected">M</button>
              <button id="size-picker-l" class="o-button-toggle">L</button>
              <button id="size-picker-xl" class="o-button-toggle">XL</button>
            </div>
            <div class="o-product-buy-wrapper">
              <button class="o-button-primary">ADD FOR â‚¹1500</button>
              <p>Free shipping on all orders.</p>
            </div>
          </div>
          <div id="product-hero-image" class="o-product-hero-wrapper">
          </div>
        </section>
      </main>
      <footer class="o-wrapper-container">
        <section class="o-wrapper-row">
          <div class="o-wrapper-col-mobile-hide o-content-background-contain s-background-product-folded h-square">
          </div>
          <div class="o-wrapper-col o-content-footernav">
            <nav class="o-content-footernav-site">
              <div><a href="/">HOME</a></div>
              <div><a href="contact">CONTACT</a></div>
              <div><a href="privacy">PRIVACY</a></div>
              <div><a href="terms">TERMS</a></div>
            </nav>
          </div>
        </section>
      </footer>
      <script src="js/jquery.min.js"></script>
      <script>
        var g_productColor = "blue";
        var g_productGender = "male";
        var g_productSize = "m";
        var g_productName_map = new Object();
        g_productName_map["blue"] = "Icy Blue";
        g_productName_map["black"] = "Space Gray";
        g_productName_map["green"] = "Jungle Green";
        g_productName_map["red"] = "Coral Red";
        g_productName_map["yellow"] = "Tuscan Yellow";

        var g_sizing_chart = {
          "male": [
            ["XS", "34-36", "25.5"],
            ["S", "36-38", "26"],
            ["M", "38-40", "27"],
            ["L", "40-42", "28"],
            ["XL", "42-44", "29"],
            ["2XL", "44-47", "30"]
          ],
          "female": [
            ["XS", "30-32", "23"],
            ["S", "32-34", "23.5"],
            ["M", "34-36", "24"],
            ["L", "36-38", "24.5"],
            ["XL", "38-40", "25"],
            ["2XL", "40-42", "25.5"]
          ]
        };
        var g_gdrive_map = new Object();
        g_gdrive_map["./assets/images/product-hero-female-black.jpg"] = "https://gdurl.com/eL6w";
        g_gdrive_map["./assets/images/product-hero-female-blue.jpg"] = "https://gdurl.com/GvIb";
        g_gdrive_map["./assets/images/product-hero-female-green.jpg"] = "https://gdurl.com/aFl0";
        g_gdrive_map["./assets/images/product-hero-female-red.jpg"] = "https://gdurl.com/DWH1";
        g_gdrive_map["./assets/images/product-hero-female-yellow.jpg"] = "https://gdurl.com/kfO8";
        g_gdrive_map["./assets/images/product-hero-male-black.jpg"] = "https://gdurl.com/GV59";
        g_gdrive_map["./assets/images/product-hero-male-blue.jpg"] = "https://gdurl.com/V2Uf";
        g_gdrive_map["./assets/images/product-hero-male-green.jpg"] = "https://gdurl.com/dcwm";
        g_gdrive_map["./assets/images/product-hero-male-red.jpg"] = "https://gdurl.com/34n4";
        g_gdrive_map["./assets/images/product-hero-male-yellow.jpg"] = "https://gdurl.com/Nowl";

        function resize() {
          var hsquares = $(".h-square");
          for (var i = 0; i < hsquares.length; ++i) {
            $(hsquares[i]).css({height: $(hsquares[i]).width() + "px"});
          }
        }

        function onScroll() {
          // tbd - make sure this is not getting called too many times
          var h =  document.documentElement,
              b =  document.body,
              st =  'scrollTop',
              sh =  'scrollHeight';

          var percent = parseInt ( (h[st]||b[st]) / ((h[sh]||b[sh]) - h.clientHeight) * 100);
          if (percent == 25)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 25 });
          }
          else if (percent == 50)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 50 });
          }
          else if (percent == 75)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 75 });
          }
          else if (percent == 90)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 90 });
          }
        }

        function onColorChange(newProductColor) {
          $(".o-button-circle").each(function(index, button) {
            $(this).removeClass("o-button-circle--selected");
          });
          $("#product-details-image").removeClass("s-background-product-details-"+g_productGender+"-"+g_productColor);

          $("#product-details-title").text(g_productName_map[newProductColor]);
          $("#color-picker-"+newProductColor).addClass("o-button-circle--selected");
          $("#product-details-image").addClass("s-background-product-details-"+g_productGender+"-"+newProductColor);
          $("#product-hero-image").css('background-image', 'url(' + g_gdrive_map["./assets/images/product-hero-"+g_productGender+"-"+newProductColor+".jpg"] + ')');
          g_productColor = newProductColor;
        }

        function loadSizingChart(gender) {
          $("#sizing-chart-modal h2").text(gender === "male" ? "Men's Sizing Chart" : "Women's Sizing Chart");
          var sizing_chart_table = $("#sizing-chart-modal table");
          sizing_chart_table.empty();
          sizing_chart_table.append($("<tr></tr>").append($("<th></th>"), $("<th>Chest</th>"), $("<th>Length</th>")));
          var size_array = g_sizing_chart[gender];
          for (var size_array_index = 0; size_array_index < size_array.length; ++size_array_index) { 
            var size_array_tuple = size_array[size_array_index];
            sizing_chart_table.append($("<tr></tr>").append($("<td></td>").text(size_array_tuple[0]), $("<td></td>").text(size_array_tuple[1]), $("<td></td>").text(size_array_tuple[2])));
          }
        }
        function onGenderChange(newProductGender) {
          $(".o-product-gender-picker .o-button-toggle-text").each(function(index, button) {
            $(this).removeClass("o-button-toggle-text--selected");
          });
          $(".o-button-circle").each(function(index, button) {
            $(this).removeClass("o-button-circle--selected");
            var buttonColor = $(this).attr("id").substring("color-picker-".length);
            if (newProductGender === "male" && ["black", "blue", "green"].indexOf(buttonColor) !== -1) {
              $(this).show();
            } else if (newProductGender === "female" && ["red", "blue", "yellow"].indexOf(buttonColor) !== -1) {
              $(this).show();
            } else {
              $(this).hide();
            }
          });
          $("#product-details-image").removeClass("s-background-product-details-"+g_productGender+"-"+g_productColor);

          $("#gender-picker-"+newProductGender).addClass("o-button-toggle-text--selected");
          $("#product-details-image").addClass("s-background-product-details-"+newProductGender+"-"+g_productColor);
          $("#product-hero-image").css('background-image', 'url(' + g_gdrive_map["./assets/images/product-hero-"+newProductGender+"-"+g_productColor+".jpg"] + ')');
          g_productGender = newProductGender;
          loadSizingChart(newProductGender);
          onColorChange(newProductGender === "male" ? "black" : "blue");
        }

        function onSizeChange(newProductSize) {
          $(".o-product-size-picker .o-button-toggle").each(function(index, button) {
            $(this).removeClass("o-button-toggle--selected");
          });

          $("#size-picker-"+newProductSize).addClass("o-button-toggle--selected");
          g_productSize = newProductSize;
        }

        function hideAllModals() {
          $(".o-modal-wrapper").each(function(index, button) {
            $(this).hide();
          });
          $("body").removeClass("modal-open");
        }

        function installModalEventListeners() {
          $("body").on("keyup", function(e) {
            if ($("body").hasClass("modal-open") && e.which === 27) {
              hideAllModals();
            }
          });

          $(".o-modal-wrapper").on("click", function(e) {
            if ($("body").hasClass("modal-open")) {
              hideAllModals();
            }
          });
        }

        function installEventListeners() {
          $("body").on("keyup", function(e) {
            if (e.which === 9) /* tab */ {
              document.documentElement.classList.remove('no-focus-outline');
            }
          });

          $(window).on("resize", function() {
            resize();
          });

          $(document).scroll(function() {
            onScroll();
          });

          $(".o-product-color-picker .o-button-circle").on("click", function(event) {
            var newProductColor = event.currentTarget.id.substring("color-picker-".length);
            onColorChange(newProductColor);
          });

          $(".o-product-gender-picker .o-button-toggle-text").on("click", function(event) {
            var newProductGender = event.currentTarget.id.substring("gender-picker-".length);
            onGenderChange(newProductGender);
          });

          $(".o-product-size-picker .o-button-toggle").on("click", function(event) {
            var newProductSize = event.currentTarget.id.substring("size-picker-".length);
            onSizeChange(newProductSize);
          });

          $("#sizing-chart-button").on("click", function(event) {
            $("#sizing-chart-modal").parent().show();
            $("body").addClass("modal-open");
          });

          installModalEventListeners();
        }

        function initialize() {
          installEventListeners();
          resize();
          hideAllModals();
          onGenderChange("male");
        }

        initialize();
      </script>
    </body>
</html>