<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>root elements</title>
    <link href="https://fonts.googleapis.com/css?family=Montserrat|Suez+One&display=swap" rel="stylesheet">	
      
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-151321053-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-151321053-1');
    </script>

    <!--meta http-equiv="X-UA-Compatible" content="IE=edge"-->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="css/main.css">
  </head>
    <body>
      <canvas class="o-canvas"></canvas>
      <header class="o-header s-header-light">
        <nav class="o-header-nav o-header-logo">
          <a class="o-header-link" href="/"><h2>root elements </h2></a>
        </nav>
        <nav class="o-header-nav o-header-menu">
          <a class="o-header-link" href="shop">SHOP<img class="o-icon s-icon-down"/></a>
          <a class="o-header-link" href="blog">OUR STORY</a>
          <a class="o-header-link" href="https://instagram.com/friendsofdzongri" target="_blank">FOLLOW US</a>
        </nav>
        <nav class="o-header-nav o-header-cart">
          <a class="o-header-link" href="cart"><img class="o-icon s-icon-cart-empty"></a>
        </nav>
      </header>
      <main class="o-wrapper-content">
        <section class="o-wrapper-hero">
          <div class="o-wrapper-hero-description">
            <h1>Change today for tomorrow</h1> 
            <p>Beautiful T-shirts, inside and out. Made from sustainable materials.</p>
            <a href="shop">SHOP NOW ></a>
          </div>
          <div class="o-wrapper-hero-image s-background-girl h-square">
          </div>
        </section>
        <section class="o-wrapper-hero">
          <div class="o-wrapper-hero-image s-background-tshirt h-square">
          </div>
          <div class="o-wrapper-hero-description">
            <h1>Sustainable clothing, literally</h1> 
            <p>Sublimation printed, never wears out. 100% recycled polyester.</p>
            <a href="blog">KNOW MORE ></a>
          </div>
        </section>
        <section class="o-wrapper-hero">
          <div class="o-wrapper-hero-collage">
            <a class="s-wrapper-hero-collage-1" href="https://instagram.com/friendsofdzongri" target="_blank"><img></a>
            <a class="s-wrapper-hero-collage-2" href="https://instagram.com/friendsofdzongri" target="_blank"><img></a>
            <a class="s-wrapper-hero-collage-3" href="https://instagram.com/friendsofdzongri" target="_blank"><img></a>
          </div>
          <div class="o-wrapper-hero-description">
            <h1>#rootelements</h1>
            <p>Thank you for the love :)</p>
            <a href="https://instagram.com/friendsofdzongri" target="_blank">FOLLOW US ></a>
          </div>
        </section>
      </main>
      <section class="o-wrapper-content">
        <section class="o-wrapper-collapsible">
          <div class="o-wrapper-collapsible-primary o-content-subscribe">
            <h1>Stay in touch </h1> 
            <p>New T-Shirt designs, upcoming products.</p>
            <input type="text" name="email" placeholder="Your Email">
            <button>SUBSCRIBE</button>
            <p class="notification">Your email has been successfully subscribed.</p>
          </div>
          <div class="o-wrapper-collapsible-secondary s-background-tshirt-folded h-square">
          </div>
        </section>
      </section>
      <footer class="o-wrapper-content">
        <section class="o-wrapper-collapsible">
          <div class="o-wrapper-collapsible-secondary s-background-tshirt-folded h-square">
          </div>
          <div class="o-wrapper-collapsible-primary o-content-footernav">
            <nav class="o-content-footernav-site">
              <a href="/">HOME</a>
              <a href="shop">SHOP</a>
              <a href="contact">CONTACT</a>
              <a href="blog">ABOUT US</a>
              <a href="privacy">PRIVACY</a>
              <a href="terms">TERMS</a>
            </nav>
            <section class="o-content-footernav-social">
              <a href="https://instagram.com/friendsofdzongri" target="_blank"><img src="./assets/icons/social/insta.svg"></a>
              <a href="https://facebook.com/friendsofdzongri" target="_blank"><img src="./assets/icons/social/fb.svg"></a>
              <a href="https://twitter.com/dzongridotcom" target="_blank"><img src="./assets/icons/social/twitter.svg"></a>
            </section>
          </div>
        </section>
      </footer>
      <script src="js/jquery.min.js"></script>
      <script>

        function loadCanvas() {
          var body = document.body, html = document.documentElement;
          var docHeight = Math.max( body.scrollHeight, body.offsetHeight, 
                                html.clientHeight, html.scrollHeight, html.offsetHeight );
          var canvas = $(".o-canvas")[0];
          canvas.width = window.innerWidth;
          canvas.height = docHeight;
          var ctx = canvas.getContext("2d");
          var imageSources = ["assets/icons/background/leaf1.svg", "assets/icons/background/leaf2.svg", "assets/icons/background/leaf3.svg", "assets/icons/background/leaf4.svg"];
          var imageWidths = [75 / 2, 121 / 2, 301 / 2, 117 / 2];
          var imageHeights = [100 / 2, 100 / 2, 100 / 2, 100 / 2];
          var loadedImages = [null, null, null, null];
          var loadedImagesCount = 0;
          function onImageLoad(img) {
            var currentSource = img.target.src.substring((location.protocol + "//" + location.host + "/").length);
            loadedImages[imageSources.indexOf(currentSource)] = img.target;
            ++loadedImagesCount;
            if (loadedImagesCount !== imageSources.length) {
              return;
            }
            var i = 0;
            while (i < $(document).height()) {
              var j = 0;
              while (j < $(document).width()) {
                var imageIndex = Math.floor(Math.random() * 4);
                ctx.drawImage(loadedImages[imageIndex], j, i, imageWidths[imageIndex], imageHeights[imageIndex]);
                j += (200 + Math.floor(Math.random() * 100));
              }
              i += (200 + Math.floor(Math.random() * 100));
            }
          }
          for (var sourceIndex = 0; sourceIndex < imageSources.length; ++sourceIndex) {
            var img = new Image();
            img.onload = onImageLoad;
            img.src = imageSources[sourceIndex];
          }
        }

        function resize() {
          var hsquares = $(".h-square");
          for (var i = 0; i < hsquares.length; ++i) {
            $(hsquares[i]).css({height: $(hsquares[i]).width() + "px"});
          }
        }

        $(window).on("resize", function() {
          resize();
          loadCanvas();
        });

        resize();
        loadCanvas();

        $(document).scroll(function() {
          // tbd - make sure this is not getting called too many times
          var h =  document.documentElement,
              b =  document.body,
              st =  'scrollTop',
              sh =  'scrollHeight';

          var percent = parseInt ( (h[st]||b[st]) / ((h[sh]||b[sh]) - h.clientHeight) * 100);
          if (percent == 25)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 25 });
          }
          else if (percent == 50)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 50 });
          }
          else if (percent == 75)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 75 });
          }
          else if (percent == 90)
          {
              gtag('event', 'scroll_change', { 'event_category': 'scroll', 'event_label': 'depth_percentage', 'value': 90 });
          }
        });
      </script>
    </body>
</html>